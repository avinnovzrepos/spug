<div class="spug-container">
  <div class="clearfix">
    {{requi.formItemCount}}
    <button class="btn btn-small btn-success pull-right" ng-click="requi.addInput()">
      Add Item <i class="glyphicon glyphicon-plus"></i>
    </button>
  </div>
  <form ng-submit="requi.submit(requi.form)">
    <div class="widget clearfix">
      <div ng-repeat="i in requi.getNumber(requi.formItemCount) track by $index">
        <div class="form-group col-md-8">
          <label for="itemName">Item Name</label>
          <input type="text" ng-model="requi.form.items[$index].item" placeholder="Custom template" uib-typeahead="item._id as item.code + '-' + item.name for item in requi.items | filter:{code:$viewValue}" typeahead-template-url="customTemplate.html" class="form-control" typeahead-show-hint="true" typeahead-min-length="0" >
        </div>
        <div class="form-group col-md-3">
          <label for="partNo">Quantity</label>
          <input type="number" class="form-control" placeholder="Quantity" ng-model="requi.form.items[$index].quantity">
        </div>
        <div class="form-group col-md-1" style="margin-top: 24px;">
          <button class="btn btn-small btn-danger" ng-click="requi.delInput($index)">
            <i class="glyphicon glyphicon-minus"></i>
          </button>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary btn-long pull-right">Submit</button>
  </form>
</div>
<script type="text/ng-template" id="customTemplate.html">
  <a>
    {{match.model.code + '-' + match.model.name}}
  </a>
</script>
